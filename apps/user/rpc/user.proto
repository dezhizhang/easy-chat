syntax = "proto3";

package user;

option go_package = "./user";


message UserEntity{
  string id = 1; // 用户id
  string avatar = 2; // 头像
  string nickname = 3; // 呢称
  string username = 4;
  string phone = 5; // 手机号
  int32  status = 6; // 状态
  int32  gender = 7; // 性别
}

message PingReq {
  string ping = 1;
}

message PingResp {
  string pong = 1;
}

//LoginReq 登录请求体
message LoginReq {
  string phone = 1;
  string password = 2;
}

//LoginResp 登录响应体
message LoginResp {
  string token = 1;
  int32 expire = 2;
}

//RegisterReq 用户注册请求体
message RegisterReq {
  string phone = 1;
  string nickname = 2;
  string username = 3;
  string password = 4;
  string avatar = 5;
  int32  gender = 6;
}

// 注册响应体
message RegisterResp {
  string token = 1;
  int32 expire = 2;
}

// UserInfoReq 查找用户
message UserInfoReq {
  string id = 1;
}
// UserInfoResp 用户响应体
message UserInfoResp {
  UserEntity user = 1;
}

service User {
  // Ping 是否通
  rpc Ping(PingReq) returns(PingResp);
  // Login 登录
  rpc Login(LoginReq) returns(LoginResp);
  // Register 注册
  rpc Register(RegisterReq) returns(RegisterResp);
  // GetUserInfo 获取用户信息
  rpc GetUserInfo(UserInfoReq) returns(UserInfoResp);
}








